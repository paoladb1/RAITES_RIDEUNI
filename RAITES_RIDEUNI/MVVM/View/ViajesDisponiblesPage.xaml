<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="RAITES_RIDEUNI.MVVM.View.ViajesDisponiblesPage"
             Title="ViajesDisponiblesPage">
    <ContentPage.BindingContext>
        <vm:ViajesDisponiblesViewModel />
    </ContentPage.BindingContext>

    <ContentPage.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#CFE1FF" Offset="0.0"/>
            <GradientStop Color="#F4F9FF" Offset="1.0"/>
        </LinearGradientBrush>
    </ContentPage.Background>

    <VerticalStackLayout Padding="20">

        <Label Text="Raites publicados"
             FontSize="25"
             TextColor="#003E7E"
             HorizontalOptions="Center"/>

        <CollectionView ItemsSource="{Binding ListaRaites}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame BackgroundColor="White"
                         CornerRadius="15"
                         Padding="15"
                         Margin="0,10"
                         HasShadow="True">

                        <VerticalStackLayout>

                            <Label Text="{Binding}" 
                                 FontSize="16"
                                 TextColor="Black"/>


                            <Button Text="Pedir este raite"
                                  BackgroundColor="#005BBB"
                                  TextColor="White"
                                  CornerRadius="20"
                                  Margin="0,10,0,0"
                                  Command="{Binding Source={RelativeSource AncestorType={x:Type vm:ViajesDisponiblesViewModel}}, Path=PedirRideCommand}"
                                  CommandParameter="{Binding}" />

                        </VerticalStackLayout>

                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </VerticalStackLayout>
</ContentPage>